# Тестовое задание для backend

В рамках тестового задания нужно разработать скрипт импорта товаров из csv файлов в базу данных PostgreSQL.

В базе данных имеем таблицу товаров:

create_table "products", force: :cascade do |t|
    t.string "price_list"
    t.string "brand", null: false
    t.string "code", null: false
    t.integer "stock", default: 0, null: false
    t.decimal "cost", precision: 12, scale: 2, null: false
    t.string "name"
  end

Нужно учесть:

Уникальность code + brand в рамках одного price_list. В случае конфликта должен сохраниться последний
brand и code регистронезависимые. Т.е. TOYOTA и Toyota считаются одинаковыми 
Повторный импорт прайса с измененными данными. Позиции, которых не стало в прайсе, не должны остаться в базе после импорта.
Если кол-во указано как > n, записывать n
Отбрасывать невалидные строки. При этом поле name не обязательное и может быть сохранено как пустое
Файлы могут содержать большое кол-во строк (до 1 млн). Можно добавлять колонки \ индексы в базу для оптимизации импорта
Могут быть другие прайсы с другим наименованием\последовательностью колонок
